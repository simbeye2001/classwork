<!DOCTYPE html>
<html lang="en">

<head>
    <script src="sesame-street.js" type="text/javascript"></script>
    <script src="fetch-pie.js" type="text/javascript"></script>
</head>

<body>
    <h1>Whitaker's Desserts</h1>
    <h2 id="cookie-header">Whitaker's Cookie Jar:</h2>
    <ul id="cookie-jar">
        <li class="cookie">Chocolate Chip</li>
        <li class="cookie">Oatmeal raisin</li>
        <li class="cookie">Macaroon</li>
    </ul>
    <p id="cookie-count"></p>
    <h2>Whitaker's Pie Cupboard:</h2>
    <ul id="pie-cupboard">
    </ul>
    <button id="moar-pie">Moar Pie!</button>
    <script>
        window.onload = function() {
            document.getElementById("cookie-header").style.color = "#ffd800";
        };
        window.onload = function() {
            // Get all cookie list items and count them
            var cookieList = document.querySelectorAll("#cookie-jar .cookie");
            var cookieCount = cookieList.length;

            // Set the text of the #cookie-count <p> to the count of cookies
            var cookieCountElement = document.getElementById("cookie-count");
            cookieCountElement.textContent = cookieCount + "! There are " + cookieCount + " cookie(s) in the cookie jar!";
            cookieCountElement.style.color = "#f7f16d";
        };
        window.onload = function() {
            // Get all cookie list items and count them
            var cookieList = document.querySelectorAll("#cookie-jar .cookie");
            var cookieCount = cookieList.length;

            // Set the text of the #cookie-count <p> to the count of cookies
            var cookieCountElement = document.getElementById("cookie-count");
            cookieCountElement.textContent = cookieCount + "! There are " + cookieCount + " cookie(s) in the cookie jar!";
            cookieCountElement.style.color = "#f7f16d";

            // Remove the last cookie in the #cookie-jar every 30 seconds
            setInterval(function() {
                if (cookieList.length > 0) {
                    var lastCookie = cookieList[cookieList.length - 1];
                    lastCookie.parentNode.removeChild(lastCookie);
                    cookieList = document.querySelectorAll("#cookie-jar .cookie");
                    cookieCountElement.textContent = cookieList.length + "! There are " + cookieList.length + " cookie(s) in the cookie jar!";
                }
            }, 300);
        };
    </script>
</body>

</html>